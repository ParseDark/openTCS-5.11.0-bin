<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>Scheduler (openTCS 5.11.0 API documentation: openTCS-API-Base)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: org.opentcs.components.kernel, interface: Scheduler">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":6,"i1":6,"i2":6,"i3":18,"i4":6,"i5":6,"i6":6,"i7":18,"i8":6,"i9":18,"i10":50,"i11":50};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">openTCS 5.11.0</div>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<a id="skip.navbar.top">
<!--   -->
</a>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.opentcs.components.kernel</a></div>
<h1 title="Interface Scheduler" class="title">Interface Scheduler</h1>
</div>
<div class="contentContainer">
<section class="description">
<dl>
<dt>All Superinterfaces:</dt>
<dd><code><a href="../Lifecycle.html" title="interface in org.opentcs.components">Lifecycle</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">Scheduler</span>
extends <a href="../Lifecycle.html" title="interface in org.opentcs.components">Lifecycle</a></pre>
<div class="block">Manages resources used by clients (vehicles) to help prevent both collisions and deadlocks.
 <p>
 Every client usually interacts with the <code>Scheduler</code> according to the following
 workflow:
 </p>
 <ol>
 <li>
 Initially, the client calls
 <a href="#allocateNow(org.opentcs.components.kernel.Scheduler.Client,java.util.Set)"><code>allocateNow()</code></a>
 when a vehicle pops up somewhere in the driving course.
 This usually happens either upon kernel startup or when a vehicle communicates its current
 position to the kernel for the first time.
 </li>
 <li>
 Once a transport order is assigned to a vehicle, the client calls
 <a href="#claim(org.opentcs.components.kernel.Scheduler.Client,java.util.List)"><code>claim()</code></a> with the
 complete sequence of resource sets the vehicle needs to process the transport order - usually
 each containing a point and the path leading to it.
 </li>
 <li>
 As the vehicle processes the transport order, the client subsequently calls
 <a href="#allocate(org.opentcs.components.kernel.Scheduler.Client,java.util.Set)"><code>allocate()</code></a> for
 resources needed next (for reaching the next point on the route).
 The <code>Scheduler</code> asynchronously calls back either
 <a href="Scheduler.Client.html#allocationSuccessful(java.util.Set)"><code>Scheduler.Client.allocationSuccessful(java.util.Set)</code></a> or
 <a href="Scheduler.Client.html#allocationFailed(java.util.Set)"><code>Scheduler.Client.allocationFailed(java.util.Set)</code></a>, informing the client about the result.
 Upon allocating the resources for the client, it also implicitly removes them from the head of
 the client's claim sequence.
 </li>
 <li>
 As the vehicle passes points (and paths) on the route, the client calls
 <a href="#free(org.opentcs.components.kernel.Scheduler.Client,java.util.Set)"><code>free()</code></a> for resources
 it does not need any more, allowing these resources to be allocated by other clients.
 </li>
 </ol>
 <p>
 At the end of this process, the client's claim sequence is empty, and only the most recently
 allocated resources are still assigned to it, reflecting the vehicle's current position.
 (If the vehicle has disappeared from the driving course after processing the transport order, the
 client would call <a href="#freeAll(org.opentcs.components.kernel.Scheduler.Client)"><code>freeAll()</code></a> to
 inform the <code>Scheduler</code> about this.)
 </p></div>
</section>
<section class="summary">
<ul class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li class="blockList">
<section class="nestedClassSummary"><a id="nested.class.summary">
<!--   -->
</a>
<h2>Nested Class Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a></span></code></th>
<td class="colLast">
<div class="block">Defines callback methods for clients of the resource scheduler.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="Scheduler.Module.html" title="interface in org.opentcs.components.kernel">Scheduler.Module</a></span></code></th>
<td class="colLast">
<div class="block">A scheduler module.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li class="blockList">
<section class="fieldSummary"><a id="field.summary">
<!--   -->
</a>
<h2>Field Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#PROPKEY_BLOCK_ENTRY_DIRECTION">PROPKEY_BLOCK_ENTRY_DIRECTION</a></span></code></th>
<td class="colLast">
<div class="block">The key of a path property defining the direction in which a vehicle is entering a block when
 it's taking the path.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t3" class="tableTab" onclick="show(4);">Abstract Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t5" class="tableTab" onclick="show(16);">Default Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t6" class="tableTab" onclick="show(32);">Deprecated Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#allocate(org.opentcs.components.kernel.Scheduler.Client,java.util.Set)">allocate</a></span>&#8203;(<a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a>&nbsp;client,
java.util.Set&lt;<a href="../../data/model/TCSResource.html" title="class in org.opentcs.data.model">TCSResource</a>&lt;?&gt;&gt;&nbsp;resources)</code></th>
<td class="colLast">
<div class="block">Requests allocation of the given resources.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#allocateNow(org.opentcs.components.kernel.Scheduler.Client,java.util.Set)">allocateNow</a></span>&#8203;(<a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a>&nbsp;client,
java.util.Set&lt;<a href="../../data/model/TCSResource.html" title="class in org.opentcs.data.model">TCSResource</a>&lt;?&gt;&gt;&nbsp;resources)</code></th>
<td class="colLast">
<div class="block">Informs the scheduler that a set of resources are to be allocated for the given client
 <em>immediately</em>.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#claim(org.opentcs.components.kernel.Scheduler.Client,java.util.List)">claim</a></span>&#8203;(<a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a>&nbsp;client,
java.util.List&lt;java.util.Set&lt;<a href="../../data/model/TCSResource.html" title="class in org.opentcs.data.model">TCSResource</a>&lt;?&gt;&gt;&gt;&nbsp;resourceSequence)</code></th>
<td class="colLast">
<div class="block">Sets/Updates the resource claim for a vehicle.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>default void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clearPendingAllocations(org.opentcs.components.kernel.Scheduler.Client)">clearPendingAllocations</a></span>&#8203;(<a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a>&nbsp;client)</code></th>
<td class="colLast">
<div class="block">Releases all pending resource allocations for the given client.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#free(org.opentcs.components.kernel.Scheduler.Client,java.util.Set)">free</a></span>&#8203;(<a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a>&nbsp;client,
java.util.Set&lt;<a href="../../data/model/TCSResource.html" title="class in org.opentcs.data.model">TCSResource</a>&lt;?&gt;&gt;&nbsp;resources)</code></th>
<td class="colLast">
<div class="block">Releases a set of resources allocated by a client.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#freeAll(org.opentcs.components.kernel.Scheduler.Client)">freeAll</a></span>&#8203;(<a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a>&nbsp;client)</code></th>
<td class="colLast">
<div class="block">Releases all resources allocated by the given client.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,&#8203;java.util.Set&lt;<a href="../../data/model/TCSResource.html" title="class in org.opentcs.data.model">TCSResource</a>&lt;?&gt;&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAllocations()">getAllocations</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns all resource allocations as a map of client IDs to resources.</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>default boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#mayAllocateNow(org.opentcs.components.kernel.Scheduler.Client,java.util.Set)">mayAllocateNow</a></span>&#8203;(<a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a>&nbsp;client,
java.util.Set&lt;<a href="../../data/model/TCSResource.html" title="class in org.opentcs.data.model">TCSResource</a>&lt;?&gt;&gt;&nbsp;resources)</code></th>
<td class="colLast">
<div class="block">Checks if the resulting system state is safe if the given set of resources
 would be allocated by the given client <em>immediately</em>.</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#preparationSuccessful(org.opentcs.components.kernel.Scheduler.Module,org.opentcs.components.kernel.Scheduler.Client,java.util.Set)">preparationSuccessful</a></span>&#8203;(<a href="Scheduler.Module.html" title="interface in org.opentcs.components.kernel">Scheduler.Module</a>&nbsp;module,
<a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a>&nbsp;client,
java.util.Set&lt;<a href="../../data/model/TCSResource.html" title="class in org.opentcs.data.model">TCSResource</a>&lt;?&gt;&gt;&nbsp;resources)</code></th>
<td class="colLast">
<div class="block">Informs the scheduler that a set of resources was successfully prepared in order of allocating
 them to a client.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>default void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#reschedule()">reschedule</a></span>()</code></th>
<td class="colLast">
<div class="block">Explicitly triggers a rescheduling run during which the scheduler tries to allocate resources
 for all waiting clients.</div>
</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code>default void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unclaim(org.opentcs.components.kernel.Scheduler.Client)">unclaim</a></span>&#8203;(<a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a>&nbsp;client)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">Use <a href="#claim(org.opentcs.components.kernel.Scheduler.Client,java.util.List)"><code>claim(org.opentcs.components.kernel.Scheduler.Client, java.util.List)</code></a>
 with an empty list, instead.</div>
</div>
</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code>default void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateProgressIndex(org.opentcs.components.kernel.Scheduler.Client,int)">updateProgressIndex</a></span>&#8203;(<a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a>&nbsp;client,
int&nbsp;index)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">Stick to
 <a href="#claim(org.opentcs.components.kernel.Scheduler.Client,java.util.List)"><code>claim()</code></a> and
 <a href="#allocate(org.opentcs.components.kernel.Scheduler.Client,java.util.Set)"><code>allocate()</code></a>.</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from interface&nbsp;org.opentcs.components.<a href="../Lifecycle.html" title="interface in org.opentcs.components">Lifecycle</a></h3>
<a id="methods.inherited.from.class.org.opentcs.components.Lifecycle">
<!--   -->
</a><code><a href="../Lifecycle.html#initialize()">initialize</a>, <a href="../Lifecycle.html#isInitialized()">isInitialized</a>, <a href="../Lifecycle.html#terminate()">terminate</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<li class="blockList">
<section class="fieldDetails"><a id="field.detail">
<!--   -->
</a>
<h2>Field Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="PROPKEY_BLOCK_ENTRY_DIRECTION">PROPKEY_BLOCK_ENTRY_DIRECTION</a></h3>
<div class="memberSignature"><span class="modifiers">static final</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">PROPKEY_BLOCK_ENTRY_DIRECTION</span></div>
<div class="block">The key of a path property defining the direction in which a vehicle is entering a block when
 it's taking the path.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.opentcs.components.kernel.Scheduler.PROPKEY_BLOCK_ENTRY_DIRECTION">Constant Field Values</a></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="claim(org.opentcs.components.kernel.Scheduler.Client,java.util.List)">claim</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">claim</span>&#8203;(<span class="arguments">@Nonnull
<a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a>&nbsp;client,
@Nonnull
java.util.List&lt;java.util.Set&lt;<a href="../../data/model/TCSResource.html" title="class in org.opentcs.data.model">TCSResource</a>&lt;?&gt;&gt;&gt;&nbsp;resourceSequence)</span></div>
<div class="block">Sets/Updates the resource claim for a vehicle.
 <p>
 <em>Claimed</em> resources are resources that a vehicle will eventually require for executing
 its movements in the future, but for which it does not request allocation, yet.
 Claiming resources provides information to the scheduler about future allocations <em>and their
 intended order</em>, allowing the scheduler to consider these information for its resource
 planning.
 </p>
 <p>
 Resources can be claimed by multiple vehicles at the same time.
 This is different from allocations:
 Only a single vehicle can allocate a resource at the same time.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>client</code> - The client claiming the resources.</dd>
<dd><code>resourceSequence</code> - The sequence of resources claimed. May be empty to clear the client's
 claim.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="updateProgressIndex(org.opentcs.components.kernel.Scheduler.Client,int)">updateProgressIndex</a></h3>
<div class="memberSignature"><span class="annotations">@Deprecated
<a href="../../util/annotations/ScheduledApiChange.html" title="annotation in org.opentcs.util.annotations">@ScheduledApiChange</a>(<a href="../../util/annotations/ScheduledApiChange.html#when()">when</a>="6.0",
                    <a href="../../util/annotations/ScheduledApiChange.html#details()">details</a>="Will be removed.")
</span><span class="modifiers">default</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">updateProgressIndex</span>&#8203;(<span class="arguments">@Nonnull
<a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a>&nbsp;client,
int&nbsp;index)</span>
                          throws <span class="exceptions">java.lang.IllegalArgumentException</span></div>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">Stick to
 <a href="#claim(org.opentcs.components.kernel.Scheduler.Client,java.util.List)"><code>claim()</code></a> and
 <a href="#allocate(org.opentcs.components.kernel.Scheduler.Client,java.util.Set)"><code>allocate()</code></a>.
 They implicitly update both the set of claimed and the set of allocated resources.</div>
</div>
<div class="block">Notifies the scheduler that the given client has now reached the given index in its claimed
 resource sequence, and that the client does not need the resources preceding the index in the
 sequence, any more.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>client</code> - The client.</dd>
<dd><code>index</code> - The new index in the client's claimed resource sequence.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - If the client does not hold a claim, or if the new index is
 larger than a valid index in its claim's resource sequence, or if the new index is not larger
 than the current index.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="unclaim(org.opentcs.components.kernel.Scheduler.Client)">unclaim</a></h3>
<div class="memberSignature"><span class="annotations">@Deprecated
<a href="../../util/annotations/ScheduledApiChange.html" title="annotation in org.opentcs.util.annotations">@ScheduledApiChange</a>(<a href="../../util/annotations/ScheduledApiChange.html#when()">when</a>="6.0",
                    <a href="../../util/annotations/ScheduledApiChange.html#details()">details</a>="Will be removed.")
</span><span class="modifiers">default</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">unclaim</span>&#8203;(<span class="arguments">@Nonnull
<a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a>&nbsp;client)</span>
              throws <span class="exceptions">java.lang.IllegalArgumentException</span></div>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">Use <a href="#claim(org.opentcs.components.kernel.Scheduler.Client,java.util.List)"><code>claim(org.opentcs.components.kernel.Scheduler.Client, java.util.List)</code></a>
 with an empty list, instead.</div>
</div>
<div class="block">Unclaims a set of resources claimed by a vehicle.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>client</code> - The client unclaiming the resources.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - If the given client does not hold a claim.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="allocate(org.opentcs.components.kernel.Scheduler.Client,java.util.Set)">allocate</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">allocate</span>&#8203;(<span class="arguments">@Nonnull
<a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a>&nbsp;client,
@Nonnull
java.util.Set&lt;<a href="../../data/model/TCSResource.html" title="class in org.opentcs.data.model">TCSResource</a>&lt;?&gt;&gt;&nbsp;resources)</span>
       throws <span class="exceptions">java.lang.IllegalArgumentException</span></div>
<div class="block">Requests allocation of the given resources.
 The client will be informed via a callback to
 <a href="Scheduler.Client.html#allocationSuccessful(java.util.Set)"><code>Scheduler.Client.allocationSuccessful(java.util.Set)</code></a> or
 <a href="Scheduler.Client.html#allocationFailed(java.util.Set)"><code>Scheduler.Client.allocationFailed(java.util.Set)</code></a> whether the allocation was successful or not.
 <ul>
 <li>
 Clients may only allocate resources in the order they have previously
 <a href="#claim(org.opentcs.components.kernel.Scheduler.Client,java.util.List)"><code>claim()</code></a>ed them.
 </li>
 <li>
 Upon allocation, the scheduler will implicitly remove the set of allocated resources from (the
 head of) the client's claim sequence.
 </li>
 <li>
 As a result, a client may only allocate the set of resources at the head of its claim sequence.
 </li>
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>client</code> - The client requesting the resources.</dd>
<dd><code>resources</code> - The resources to be allocated.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - If the set of resources to be allocated is not equal to the
 <em>next</em> set in the sequence of currently claimed resources, or if the client has already
 requested resources that have not yet been granted.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#claim(org.opentcs.components.kernel.Scheduler.Client,java.util.List)"><code>claim(org.opentcs.components.kernel.Scheduler.Client, java.util.List)</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="mayAllocateNow(org.opentcs.components.kernel.Scheduler.Client,java.util.Set)">mayAllocateNow</a></h3>
<div class="memberSignature"><span class="annotations"><a href="../../util/annotations/ScheduledApiChange.html" title="annotation in org.opentcs.util.annotations">@ScheduledApiChange</a>(<a href="../../util/annotations/ScheduledApiChange.html#when()">when</a>="6.0",
                    <a href="../../util/annotations/ScheduledApiChange.html#details()">details</a>="Default implementation will be removed.")
</span><span class="modifiers">default</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">mayAllocateNow</span>&#8203;(<span class="arguments">@Nonnull
<a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a>&nbsp;client,
@Nonnull
java.util.Set&lt;<a href="../../data/model/TCSResource.html" title="class in org.opentcs.data.model">TCSResource</a>&lt;?&gt;&gt;&nbsp;resources)</span></div>
<div class="block">Checks if the resulting system state is safe if the given set of resources
 would be allocated by the given client <em>immediately</em>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>client</code> - The client requesting the resources.</dd>
<dd><code>resources</code> - The requested resources.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the given resources are safe to be allocated by the given client,
 otherwise <code>false</code>.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="allocateNow(org.opentcs.components.kernel.Scheduler.Client,java.util.Set)">allocateNow</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">allocateNow</span>&#8203;(<span class="arguments">@Nonnull
<a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a>&nbsp;client,
@Nonnull
java.util.Set&lt;<a href="../../data/model/TCSResource.html" title="class in org.opentcs.data.model">TCSResource</a>&lt;?&gt;&gt;&nbsp;resources)</span>
          throws <span class="exceptions"><a href="ResourceAllocationException.html" title="class in org.opentcs.components.kernel">ResourceAllocationException</a></span></div>
<div class="block">Informs the scheduler that a set of resources are to be allocated for the given client
 <em>immediately</em>.
 <p>
 Note the following:
 </p>
 <ul>
 <li>
 This method should only be called in urgent/emergency cases, for instance if a vehicle has been
 moved to a different point manually, which has to be reflected by resource allocation in the
 scheduler.
 </li>
 <li>
 Unlike
 <a href="#allocate(org.opentcs.components.kernel.Scheduler.Client,java.util.Set)"><code>allocate()</code></a>,
 this method does not block, i.e. the operation happens synchronously.
 </li>
 <li>
 This method does <em>not</em> implicitly deallocate or unclaim any other resources for the
 client.
 </li>
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>client</code> - The client requesting the resources.</dd>
<dd><code>resources</code> - The resources requested.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="ResourceAllocationException.html" title="class in org.opentcs.components.kernel">ResourceAllocationException</a></code> - If it's impossible to allocate the given set of resources
 for the given client.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="free(org.opentcs.components.kernel.Scheduler.Client,java.util.Set)">free</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">free</span>&#8203;(<span class="arguments">@Nonnull
<a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a>&nbsp;client,
@Nonnull
java.util.Set&lt;<a href="../../data/model/TCSResource.html" title="class in org.opentcs.data.model">TCSResource</a>&lt;?&gt;&gt;&nbsp;resources)</span></div>
<div class="block">Releases a set of resources allocated by a client.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>client</code> - The client releasing the resources.</dd>
<dd><code>resources</code> - The resources released. Any resources in the given set not allocated by the
 given client are ignored.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="freeAll(org.opentcs.components.kernel.Scheduler.Client)">freeAll</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">freeAll</span>&#8203;(<span class="arguments">@Nonnull
<a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a>&nbsp;client)</span></div>
<div class="block">Releases all resources allocated by the given client.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>client</code> - The client.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="clearPendingAllocations(org.opentcs.components.kernel.Scheduler.Client)">clearPendingAllocations</a></h3>
<div class="memberSignature"><span class="annotations"><a href="../../util/annotations/ScheduledApiChange.html" title="annotation in org.opentcs.util.annotations">@ScheduledApiChange</a>(<a href="../../util/annotations/ScheduledApiChange.html#when()">when</a>="6.0",
                    <a href="../../util/annotations/ScheduledApiChange.html#details()">details</a>="Default implementation will be removed.")
</span><span class="modifiers">default</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">clearPendingAllocations</span>&#8203;(<span class="arguments">@Nonnull
<a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a>&nbsp;client)</span></div>
<div class="block">Releases all pending resource allocations for the given client.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>client</code> - The client.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="reschedule()">reschedule</a></h3>
<div class="memberSignature"><span class="annotations"><a href="../../util/annotations/ScheduledApiChange.html" title="annotation in org.opentcs.util.annotations">@ScheduledApiChange</a>(<a href="../../util/annotations/ScheduledApiChange.html#when()">when</a>="6.0",
                    <a href="../../util/annotations/ScheduledApiChange.html#details()">details</a>="Default implementation will be removed.")
</span><span class="modifiers">default</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">reschedule</span>()</div>
<div class="block">Explicitly triggers a rescheduling run during which the scheduler tries to allocate resources
 for all waiting clients.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getAllocations()">getAllocations</a></h3>
<div class="memberSignature"><span class="annotations">@Nonnull
</span><span class="returnType">java.util.Map&lt;java.lang.String,&#8203;java.util.Set&lt;<a href="../../data/model/TCSResource.html" title="class in org.opentcs.data.model">TCSResource</a>&lt;?&gt;&gt;&gt;</span>&nbsp;<span class="memberName">getAllocations</span>()</div>
<div class="block">Returns all resource allocations as a map of client IDs to resources.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>All resource allocations as a map of client IDs to resources.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="preparationSuccessful(org.opentcs.components.kernel.Scheduler.Module,org.opentcs.components.kernel.Scheduler.Client,java.util.Set)">preparationSuccessful</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">preparationSuccessful</span>&#8203;(<span class="arguments">@Nonnull
<a href="Scheduler.Module.html" title="interface in org.opentcs.components.kernel">Scheduler.Module</a>&nbsp;module,
@Nonnull
<a href="Scheduler.Client.html" title="interface in org.opentcs.components.kernel">Scheduler.Client</a>&nbsp;client,
@Nonnull
java.util.Set&lt;<a href="../../data/model/TCSResource.html" title="class in org.opentcs.data.model">TCSResource</a>&lt;?&gt;&gt;&nbsp;resources)</span></div>
<div class="block">Informs the scheduler that a set of resources was successfully prepared in order of allocating
 them to a client.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>module</code> - The module a preparation was necessary for.</dd>
<dd><code>client</code> - The client that requested the preparation/allocation.</dd>
<dd><code>resources</code> - The resources that are now prepared for the client.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">openTCS 5.11.0</div>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
